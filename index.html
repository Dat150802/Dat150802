<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KLC Bến Lức - Hệ thống quản trị nội bộ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha512-oHDEc8XedU7Xvfp7xY/F0uFehjZx1Bn8iFfSX8GdHqCqkfnVZ5p1jVdZ1J6fJozVb9KTKQFaWw5qimvZj+AxYw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1Bz5o+4nlf7+P6t1MEd1ZCgqZ4p5hY2jK7arE5Wdl0T4kLhM651c01hcC+iqPP3FZg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="assets/css/styles.css" />
  </head>
  <body>
    <div id="loading-overlay" class="hidden" aria-hidden="true">
      <div class="loader">
        <span class="spinner"></span>
        <p>Đang tải...</p>
      </div>
    </div>

    <section id="login-screen" class="login-screen">
      <div class="login-card">
        <div class="brand">
          <img src="assets/images/logo.svg" alt="Logo KLC" />
          <h1>KLC Bến Lức</h1>
          <p>Hệ thống quản trị nội bộ</p>
        </div>
        <form id="login-form" class="form">
          <div class="form-row">
            <label for="username">Tài khoản</label>
            <input id="username" name="username" type="text" autocomplete="username" placeholder="Nhập tài khoản" required />
          </div>
          <div class="form-row">
            <label for="password">Mật khẩu</label>
            <div class="password-field">
              <input id="password" name="password" type="password" autocomplete="current-password" placeholder="Nhập mật khẩu" required />
              <button type="button" id="toggle-password" aria-label="Hiển thị mật khẩu"><i class="fa-solid fa-eye"></i></button>
            </div>
          </div>
          <div class="form-row inline">
            <label>
              <input type="checkbox" id="remember-me" />
              Nhớ đăng nhập trên thiết bị này
            </label>
            <label>
              <input type="checkbox" id="keep-session" />
              Duy trì đăng nhập
            </label>
          </div>
          <button type="submit" class="btn primary full" data-loading="false">
            <span>Đăng nhập</span>
            <span class="btn-loader"><i class="fa-solid fa-spinner"></i></span>
          </button>
          <p class="help-text">Quản trị viên toàn quyền cấu hình hệ thống. Nhân viên chỉ xem dữ liệu được phân quyền.</p>
        </form>
      </div>
    </section>

    <div id="app-shell" class="app-shell hidden">
      <aside class="sidebar">
        <div class="sidebar-header">
          <img id="sidebar-logo" src="assets/images/logo.svg" alt="Logo KLC" />
          <div>
            <h2>KLC Bến Lức</h2>
            <p id="user-role">---</p>
          </div>
        </div>
        <nav class="menu" aria-label="Điều hướng chính">
          <button class="menu-item active" data-target="dashboard"><i class="fa-solid fa-chart-line"></i><span>Tổng quan</span></button>
          <button class="menu-item" data-target="customers"><i class="fa-solid fa-users"></i><span>Khách hàng</span></button>
          <button class="menu-item" data-target="cskh"><i class="fa-solid fa-headset"></i><span>Chăm sóc khách</span></button>
          <button class="menu-item" data-target="warranty"><i class="fa-solid fa-screwdriver-wrench"></i><span>Bảo hành &amp; bảo dưỡng</span></button>
          <button class="menu-item" data-target="checklist"><i class="fa-solid fa-list-check"></i><span>CheckList công việc</span></button>
          <button class="menu-item" data-target="inventory"><i class="fa-solid fa-boxes-stacked"></i><span>Tồn kho</span></button>
          <button class="menu-item" data-target="finance"><i class="fa-solid fa-coins"></i><span>Thu &amp; Chi</span></button>
          <button class="menu-item" data-target="settings"><i class="fa-solid fa-gear"></i><span>Thiết lập hệ thống</span></button>
        </nav>
        <div class="sidebar-footer">
          <button id="backup-button" class="btn ghost full"><i class="fa-solid fa-cloud-arrow-up"></i> Sao lưu dữ liệu</button>
          <button id="logout-button" class="btn ghost full"><i class="fa-solid fa-arrow-right-from-bracket"></i> Đăng xuất</button>
        </div>
      </aside>

      <main class="content">
        <header class="topbar">
          <div class="topbar-left">
            <button id="menu-toggle" class="menu-toggle" aria-label="Mở/đóng menu"><i class="fa-solid fa-bars"></i></button>
            <h1 id="page-title">Tổng quan</h1>
          </div>
          <div class="topbar-right">
            <div class="search-box">
              <input type="search" id="global-search" placeholder="Tìm kiếm nhanh" />
              <i class="fa-solid fa-magnifying-glass"></i>
            </div>
            <div class="user-badge">
              <span id="user-name">---</span>
              <i class="fa-solid fa-circle-user"></i>
            </div>
          </div>
        </header>

        <section id="dashboard" class="page active" data-page-title="Tổng quan">
          <div class="grid dashboard-grid">
            <article class="card stats" id="stats-overview">
              <header>
                <h2>Hiệu suất tổng quan</h2>
                <div class="filters">
                  <label>Khoảng thời gian
                    <select id="dashboard-period">
                      <option value="7">7 ngày</option>
                      <option value="30" selected>30 ngày</option>
                      <option value="90">90 ngày</option>
                      <option value="365">12 tháng</option>
                    </select>
                  </label>
                </div>
              </header>
              <div class="stats-grid">
                <div class="stat-item">
                  <p>Khách hàng mới</p>
                  <strong id="stat-new-customers">0</strong>
                </div>
                <div class="stat-item">
                  <p>Phiếu CSKH</p>
                  <strong id="stat-care-forms">0</strong>
                </div>
                <div class="stat-item">
                  <p>Đơn bảo hành/bảo dưỡng</p>
                  <strong id="stat-support">0</strong>
                </div>
                <div class="stat-item">
                  <p>Doanh thu ròng</p>
                  <strong id="stat-net-income">0 ₫</strong>
                </div>
              </div>
            </article>
            <article class="card chart">
              <header><h2>Biểu đồ khách hàng theo tháng</h2></header>
              <canvas id="customers-chart" height="280" role="img" aria-label="Biểu đồ khách hàng"></canvas>
            </article>
            <article class="card chart">
              <header><h2>Thu &amp; Chi</h2></header>
              <canvas id="finance-chart" height="280" role="img" aria-label="Biểu đồ thu chi"></canvas>
            </article>
            <article class="card activities">
              <header><h2>Hoạt động gần đây</h2></header>
              <ul id="activity-feed" class="timeline" aria-live="polite"></ul>
            </article>
          </div>
        </section>

        <section id="customers" class="page" data-page-title="Khách hàng">
          <div class="page-header">
            <h2>Thông tin khách hàng</h2>
            <div class="actions">
              <input type="search" id="customer-search" placeholder="Tìm khách hàng" />
              <button id="customer-refresh" class="btn ghost"><i class="fa-solid fa-rotate"></i> Làm mới</button>
            </div>
          </div>
          <form id="customer-form" class="form two-column">
            <div class="form-row">
            <label for="customer-date">Ngày / tháng / năm</label>
            <input type="date" id="customer-date" name="date" required />
            </div>
            <div class="form-row">
            <label for="customer-name">Tên khách hàng</label>
            <input type="text" id="customer-name" name="name" placeholder="Nguyễn Văn A" required />
            </div>
            <div class="form-row">
            <label for="customer-phone">Số điện thoại</label>
            <input type="tel" id="customer-phone" name="phone" placeholder="090 xxx xxxx" required />
            </div>
            <div class="form-row">
            <label for="customer-address">Địa chỉ</label>
            <input type="text" id="customer-address" name="address" placeholder="Địa chỉ khách" />
            </div>
            <div class="form-row full">
              <label for="customer-source">Nguồn khách</label>
              <select id="customer-source" name="source" required>
                <option value="store">Khách ghé ngang cửa hàng</option>
                <option value="online">Khách online</option>
                <option value="referral-new">Khách cũ giới thiệu</option>
                <option value="referral-repeat">Khách cũ mua lại</option>
                <option value="staff">Người quen nhân viên</option>
                <option value="other">Khác</option>
              </select>
              <input type="text" id="customer-source-detail" name="sourceDetail" placeholder="Chi tiết nguồn" class="hidden" />
            </div>
            <div class="form-row full">
              <fieldset>
                <legend>Tình trạng mua hàng</legend>
                <label><input type="radio" name="customer-status" value="purchased" checked /> Đã mua</label>
                <label><input type="radio" name="customer-status" value="pending" /> Chưa mua</label>
              </fieldset>
            </div>
            <div id="purchase-details" class="form-row full">
              <label for="customer-product">Mẫu ghế đã mua</label>
              <input type="text" id="customer-product" name="product" placeholder="Tên mẫu ghế" />
              <label for="customer-price">Giá tiền</label>
              <input type="number" id="customer-price" name="price" min="0" step="1000" placeholder="0" />
            </div>
            <div id="consult-details" class="form-row full hidden">
              <label for="customer-consult">Các mẫu đã tư vấn</label>
              <textarea id="customer-consult" name="consulted" rows="3" placeholder="Danh sách mẫu ghế"></textarea>
              <label for="customer-consult-price">Giá/ưu đãi đã tư vấn</label>
              <textarea id="customer-consult-price" name="consultPricing" rows="3" placeholder="Thông tin giá, trả góp..."></textarea>
            </div>
            <div class="form-row full">
              <label for="customer-notes">Ghi chú</label>
              <textarea id="customer-notes" name="notes" rows="3" placeholder="Ghi chú thêm"></textarea>
            </div>
            <div class="form-actions">
              <button type="reset" class="btn ghost" id="customer-reset">Xóa form</button>
              <button type="submit" class="btn primary" data-loading="false">Lưu khách hàng</button>
            </div>
          </form>
          <hr />
          <div class="list-header">
            <h3>Danh sách khách hàng</h3>
            <div class="list-actions">
              <button class="btn ghost" data-filter="all">Tất cả</button>
              <button class="btn ghost" data-filter="purchased">Đã mua</button>
              <button class="btn ghost" data-filter="pending">Chưa mua</button>
            </div>
          </div>
          <div class="table-wrapper">
            <table id="customer-table">
              <thead>
                <tr>
                  <th>Ngày</th>
                  <th>Tên</th>
                  <th>Điện thoại</th>
                  <th>Nguồn</th>
                  <th>Trạng thái</th>
                  <th>CSKH</th>
                  <th>Xem lịch sử</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <section id="cskh" class="page" data-page-title="Chăm sóc khách hàng">
          <div class="page-header">
            <h2>Phiếu chăm sóc khách hàng</h2>
            <div class="actions">
              <input type="search" id="care-search" placeholder="Tìm phiếu" />
            </div>
          </div>
          <form id="care-form" class="form two-column">
            <div class="form-row">
            <label for="care-date">Ngày / tháng / năm</label>
            <input type="date" id="care-date" name="date" required />
            </div>
            <div class="form-row">
            <label for="care-name">Tên khách</label>
            <input type="text" id="care-name" name="name" list="customer-name-suggestions" required />
              <datalist id="customer-name-suggestions"></datalist>
            </div>
            <div class="form-row">
            <label for="care-phone">Số điện thoại</label>
            <input type="tel" id="care-phone" name="phone" list="customer-phone-suggestions" required />
              <datalist id="customer-phone-suggestions"></datalist>
            </div>
            <div class="form-row">
            <label for="care-address">Địa chỉ</label>
            <input type="text" id="care-address" name="address" />
            </div>
            <div class="form-row">
            <label for="care-staff">Nhân viên CSKH</label>
            <select id="care-staff" name="staff" required></select>
            </div>
            <div class="form-row">
            <label for="care-method">Hình thức CSKH</label>
            <select id="care-method" name="method" required>
                <option value="call">Gọi điện</option>
                <option value="message">Nhắn tin</option>
                <option value="broadcast">Gửi tin nhắn hàng loạt</option>
                <option value="call-message">Gọi điện + nhắn tin</option>
              </select>
            </div>
            <div class="form-row full">
              <label for="care-content">Nội dung CSKH</label>
              <textarea id="care-content" name="content" rows="3" required></textarea>
            </div>
            <div class="form-row full">
              <label for="care-feedback">Phản hồi khách hàng</label>
              <textarea id="care-feedback" name="feedback" rows="3"></textarea>
            </div>
            <div class="form-row full">
              <label for="care-notes">Ghi chú</label>
              <textarea id="care-notes" name="notes" rows="3"></textarea>
            </div>
            <div class="form-row full">
              <fieldset class="rating-group">
                <legend>Đánh giá khách hàng</legend>
                <label><input type="radio" name="care-rating" value="potential" checked /> Khách còn tiềm năng</label>
                <label><input type="radio" name="care-rating" value="nurturing" /> Đang nuôi khách</label>
                <label><input type="radio" name="care-rating" value="appointment" /> Đang hẹn lên</label>
                <label><input type="radio" name="care-rating" value="lost" /> Hết tiềm năng</label>
              </fieldset>
              <textarea id="care-lost-reason" name="lostReason" class="hidden" rows="2" placeholder="Lý do hết tiềm năng"></textarea>
            </div>
            <div class="form-actions">
              <button type="reset" class="btn ghost" id="care-reset">Xóa form</button>
              <button type="submit" class="btn primary">Lưu CSKH</button>
            </div>
          </form>
          <hr />
          <div class="split-layout">
            <div class="table-wrapper">
              <h3>Danh sách chăm sóc khách</h3>
              <table id="care-table">
                <thead>
                  <tr>
                    <th>Ngày</th>
                    <th>Tên</th>
                    <th>Nhân viên</th>
                    <th>Hình thức</th>
                    <th>Đánh giá</th>
                    <th>Chi tiết</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
            <aside class="detail-panel">
              <h3>Chi tiết CSKH</h3>
              <div id="care-detail" class="detail-card">
                <p>Chọn một phiếu để xem chi tiết.</p>
              </div>
              <div class="detail-card">
                <h4>Cập nhật khách hàng</h4>
                <button id="care-update-customer" class="btn secondary">Cập nhật thông tin mới nhất</button>
              </div>
            </aside>
          </div>
        </section>

        <section id="warranty" class="page" data-page-title="Bảo hành &amp; bảo dưỡng">
          <div class="page-header">
            <h2>Quản lý bảo hành &amp; bảo dưỡng</h2>
            <div class="actions">
              <input type="search" id="support-search" placeholder="Tìm kiếm" />
              <select id="support-filter">
                <option value="all">Tất cả</option>
                <option value="pending">Khách chưa hỗ trợ</option>
                <option value="done">Khách đã hỗ trợ</option>
                <option value="parts">Đã gửi linh kiện</option>
              </select>
            </div>
          </div>
          <div class="toggle-group">
            <label><input type="radio" name="support-type" value="warranty" checked /> Bảo hành</label>
            <label><input type="radio" name="support-type" value="maintenance" /> Bảo dưỡng</label>
          </div>
          <form id="support-form" class="form two-column">
            <div class="form-row">
            <label for="support-date">Ngày / tháng / năm</label>
            <input type="date" id="support-date" name="date" required />
            </div>
            <div class="form-row">
            <label for="support-name">Tên khách hàng</label>
            <input type="text" id="support-name" name="name" required />
            </div>
            <div class="form-row">
            <label for="support-phone">Số điện thoại</label>
            <input type="tel" id="support-phone" name="phone" required />
            </div>
            <div class="form-row">
            <label for="support-address">Địa chỉ</label>
            <input type="text" id="support-address" name="address" />
            </div>
            <div class="form-row">
            <label for="support-product">Mẫu ghế</label>
            <input type="text" id="support-product" name="product" />
            </div>
            <div class="form-row full" id="support-status-row">
            <label for="support-status">Tình trạng</label>
            <textarea id="support-status" name="status" rows="3"></textarea>
            </div>
            <div class="form-row full">
            <label for="support-request">Yêu cầu thêm của khách</label>
            <textarea id="support-request" name="request" rows="3"></textarea>
            </div>
            <div class="form-actions">
              <button type="reset" class="btn ghost" id="support-reset">Xóa form</button>
              <button type="submit" class="btn primary">Lưu phiếu</button>
            </div>
          </form>
          <hr />
          <div class="split-layout">
            <div class="table-wrapper">
              <h3>Danh sách phiếu bảo hành</h3>
              <table id="warranty-table" class="support-table">
                <thead>
                  <tr>
                    <th>Ngày</th>
                    <th>Tên</th>
                    <th>SĐT</th>
                    <th>Mẫu ghế</th>
                    <th>Hỗ trợ</th>
                    <th>Gửi linh kiện</th>
                    <th>Chi tiết</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
            <div class="table-wrapper">
              <h3>Danh sách phiếu bảo dưỡng</h3>
              <table id="maintenance-table" class="support-table">
                <thead>
                  <tr>
                    <th>Ngày</th>
                    <th>Tên</th>
                    <th>SĐT</th>
                    <th>Mẫu ghế</th>
                    <th>Hỗ trợ</th>
                    <th>Gửi linh kiện</th>
                    <th>Chi tiết</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </section>

        <section id="checklist" class="page" data-page-title="CheckList công việc">
          <div class="page-header">
            <h2>Kế hoạch làm việc hằng ngày</h2>
            <div class="actions">
              <input type="date" id="checklist-date-filter" />
            </div>
          </div>
          <form id="checklist-form" class="form two-column">
            <div class="form-row">
            <label for="checklist-date">Ngày làm việc</label>
            <input type="date" id="checklist-date" name="date" required />
            </div>
            <div class="form-row">
            <label for="checklist-staff">Nhân viên</label>
            <select id="checklist-staff" name="staff" required></select>
            </div>
            <div class="form-row">
            <label for="checklist-shift">Ca làm việc</label>
            <select id="checklist-shift" name="shift" required>
                <option value="morning">Ca sáng (08:00 - 16:00)</option>
                <option value="afternoon">Ca chiều (13:00 - 21:00)</option>
                <option value="full">Ca full (08:00 - 21:00)</option>
              </select>
            </div>
            <div class="form-row full">
              <label for="checklist-tasks">Lịch công việc theo giờ</label>
              <div id="checklist-tasks" class="tasks-grid"></div>
            </div>
            <div class="form-row full">
              <label for="checklist-summary">Tổng kết công việc</label>
              <textarea id="checklist-summary" name="summary" rows="3" placeholder="Tóm tắt kết quả"></textarea>
            </div>
            <div class="form-row full">
              <label for="checklist-incomplete">Công việc chưa hoàn thành / lý do</label>
              <textarea id="checklist-incomplete" name="incomplete" rows="3"></textarea>
            </div>
            <div class="form-row full">
              <label for="checklist-plan">Dự kiến hoàn thành</label>
              <textarea id="checklist-plan" name="plan" rows="3"></textarea>
            </div>
            <div class="form-row full">
              <label for="checklist-assign">Quản lý giao việc</label>
              <textarea id="checklist-assign" name="assign" rows="3" placeholder="Ghi rõ công việc giao"></textarea>
            </div>
            <div class="form-actions">
              <button type="reset" class="btn ghost" id="checklist-reset">Xóa form</button>
              <button type="submit" class="btn primary">Lưu checklist</button>
            </div>
          </form>
          <hr />
          <div class="table-wrapper">
            <h3>Danh sách công việc</h3>
            <table id="checklist-table">
              <thead>
                <tr>
                  <th>Ngày</th>
                  <th>Nhân viên</th>
                  <th>Ca</th>
                  <th>Tổng kết</th>
                  <th>Chi tiết</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <section id="inventory" class="page" data-page-title="Tồn kho">
          <div class="page-header">
            <h2>Quản lý tồn kho</h2>
            <div class="actions">
              <input type="search" id="inventory-search" placeholder="Tìm sản phẩm" />
            </div>
          </div>
          <form id="inventory-form" class="form two-column">
            <div class="form-row">
            <label for="inventory-date">Ngày nhập liệu</label>
            <input type="date" id="inventory-date" name="date" required />
            </div>
            <div class="form-row">
            <label for="inventory-item">Tên hàng hóa</label>
            <input type="text" id="inventory-item" name="item" required />
            </div>
            <div class="form-row">
            <label for="inventory-type">Loại giao dịch</label>
            <select id="inventory-type" name="type" required>
                <option value="in">Nhập kho</option>
                <option value="out">Xuất kho</option>
              </select>
            </div>
            <div class="form-row">
            <label for="inventory-quantity">Số lượng</label>
            <input type="number" id="inventory-quantity" name="quantity" min="1" required />
            </div>
            <div class="form-row">
            <label for="inventory-notes">Ghi chú</label>
            <textarea id="inventory-notes" name="notes" rows="2"></textarea>
            </div>
            <div class="form-actions">
              <button type="reset" class="btn ghost" id="inventory-reset">Xóa form</button>
              <button type="submit" class="btn primary">Lưu giao dịch</button>
            </div>
          </form>
          <hr />
          <div class="grid inventory-grid">
            <div class="card">
              <header><h3>Tồn kho hiện tại</h3></header>
              <table id="inventory-summary">
                <thead>
                  <tr>
                    <th>Sản phẩm</th>
                    <th>Số lượng</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
            <div class="card">
              <header><h3>Lịch sử giao dịch</h3></header>
              <table id="inventory-table">
                <thead>
                  <tr>
                    <th>Ngày</th>
                    <th>Sản phẩm</th>
                    <th>Loại</th>
                    <th>Số lượng</th>
                    <th>Ghi chú</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </section>

        <section id="finance" class="page" data-page-title="Thu &amp; Chi">
          <div class="page-header">
            <h2>Quản lý tài chính</h2>
            <div class="actions">
              <input type="month" id="finance-month" />
              <button id="finance-export" class="btn ghost"><i class="fa-solid fa-file-arrow-down"></i> Xuất báo cáo</button>
            </div>
          </div>
          <form id="finance-form" class="form two-column">
            <div class="form-row">
            <label for="finance-date">Ngày giao dịch</label>
            <input type="date" id="finance-date" name="date" required />
            </div>
            <div class="form-row">
            <label for="finance-type">Loại</label>
            <select id="finance-type" name="type" required>
                <option value="income">Thu</option>
                <option value="expense">Chi</option>
              </select>
            </div>
            <div class="form-row">
            <label for="finance-amount">Số tiền</label>
            <input type="number" id="finance-amount" name="amount" min="0" step="1000" required />
            </div>
            <div class="form-row">
            <label for="finance-category">Hạng mục</label>
            <input type="text" id="finance-category" name="category" placeholder="Ví dụ: Bán hàng, Chi phí marketing" required />
            </div>
            <div class="form-row full">
            <label for="finance-notes">Lý do / ghi chú</label>
            <textarea id="finance-notes" name="notes" rows="3"></textarea>
            </div>
            <div class="form-actions">
              <button type="reset" class="btn ghost" id="finance-reset">Xóa form</button>
              <button type="submit" class="btn primary">Lưu giao dịch</button>
            </div>
          </form>
          <hr />
          <div class="grid finance-grid">
            <div class="card">
              <header><h3>Báo cáo theo tháng</h3></header>
              <div id="finance-summary" class="finance-summary"></div>
            </div>
            <div class="card">
              <header><h3>Danh sách giao dịch</h3></header>
              <table id="finance-table">
                <thead>
                  <tr>
                    <th>Ngày</th>
                    <th>Loại</th>
                    <th>Hạng mục</th>
                    <th>Số tiền</th>
                    <th>Ghi chú</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </section>

        <section id="settings" class="page" data-page-title="Thiết lập hệ thống">
          <div class="settings-layout">
            <aside class="settings-sidebar">
              <h3>Danh mục</h3>
              <nav>
                <button class="settings-link active" data-settings="appearance">Giao diện</button>
                <button class="settings-link" data-settings="team">Nhân sự</button>
                <button class="settings-link" data-settings="integrations">Kết nối</button>
                <button class="settings-link" data-settings="data">Dữ liệu &amp; sao lưu</button>
              </nav>
            </aside>
            <div class="settings-content">
              <section class="settings-panel active" data-settings-panel="appearance">
                <h2>Tùy chỉnh giao diện</h2>
                <form id="appearance-form" class="form">
                  <div class="form-row">
                    <label for="theme-color">Màu chủ đạo</label>
                    <input type="color" id="theme-color" value="#0f6f78" />
                  </div>
                  <div class="form-row">
                    <label for="accent-color">Màu nhấn</label>
                    <input type="color" id="accent-color" value="#f3b63f" />
                  </div>
                  <div class="form-row">
                    <label for="logo-upload">Logo thương hiệu</label>
                    <input type="file" id="logo-upload" accept="image/*" />
                  </div>
                  <div class="form-actions">
                    <button type="button" class="btn ghost" id="appearance-reset">Khôi phục mặc định</button>
                    <button type="submit" class="btn primary">Lưu giao diện</button>
                  </div>
                </form>
              </section>
              <section class="settings-panel" data-settings-panel="team">
                <h2>Quản lý thành viên</h2>
                <p>Thêm hoặc bớt nhân viên để phân quyền trong hệ thống.</p>
                <form id="team-form" class="form inline-form">
                  <input type="text" id="team-name" name="name" placeholder="Tên hiển thị" required />
                  <select id="team-role" name="role">
                    <option value="staff">Nhân viên</option>
                    <option value="admin">Quản trị viên</option>
                  </select>
                  <input type="text" id="team-username" name="username" placeholder="Tài khoản đăng nhập" required />
                  <input type="password" id="team-password" name="password" placeholder="Mật khẩu" required />
                  <button type="submit" class="btn primary">Thêm thành viên</button>
                </form>
                <div class="table-wrapper">
                  <table id="team-table">
                    <thead>
                      <tr>
                        <th>Tên</th>
                        <th>Tài khoản</th>
                        <th>Vai trò</th>
                        <th>Trạng thái</th>
                      </tr>
                    </thead>
                    <tbody></tbody>
                  </table>
                </div>
              </section>
              <section class="settings-panel" data-settings-panel="integrations">
                <h2>Tích hợp &amp; kết nối</h2>
                <form id="integrations-form" class="form">
                  <div class="form-row full">
                    <label for="firebase-status">Kết nối Firebase</label>
                    <div class="integration-status" id="firebase-status">Chưa kết nối</div>
                  </div>
                  <div class="form-row full">
                    <label for="drive-folder">Thư mục Google Drive sao lưu</label>
                    <input type="text" id="drive-folder" placeholder="Nhập ID thư mục Google Drive" />
                  </div>
                  <div class="form-row full">
                    <label for="drive-webhook">Đường dẫn Apps Script (tùy chọn)</label>
                    <input type="url" id="drive-webhook" name="driveWebhook" placeholder="https://script.google.com/..." />
                  </div>
                  <div class="form-actions">
                    <button type="submit" class="btn primary">Lưu cấu hình</button>
                  </div>
                </form>
                <p class="help-text">Sau khi lưu, hệ thống sẽ tự động sao lưu dữ liệu định kỳ và khi nhấn nút "Sao lưu dữ liệu".</p>
              </section>
              <section class="settings-panel" data-settings-panel="data">
                <h2>Đồng bộ &amp; sao lưu</h2>
                <div class="backup-card">
                  <p>Xuất toàn bộ dữ liệu thành tập tin JSON để lưu trữ ngoại tuyến hoặc tải lên Google Drive.</p>
                  <button id="download-backup" class="btn secondary"><i class="fa-solid fa-download"></i> Tải về máy</button>
                </div>
                <div class="backup-card">
                  <p>Đồng bộ thủ công với Google Drive thông qua Apps Script.</p>
                  <button id="drive-backup" class="btn ghost"><i class="fa-solid fa-cloud"></i> Sao lưu lên Drive</button>
                </div>
                <div class="backup-card">
                  <p>Tự động đồng bộ mỗi 15 phút khi hệ thống đang mở.</p>
                  <div id="backup-status" class="integration-status">Chưa thực hiện</div>
                </div>
              </section>
            </div>
          </div>
        </section>
      </main>
    </div>

    <template id="activity-template">
      <li>
        <div class="timeline-dot"></div>
        <div class="timeline-content">
          <p class="timeline-title"></p>
          <span class="timeline-time"></span>
        </div>
      </li>
    </template>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/chart.js/4.4.2/chart.umd.min.js" integrity="sha512-M7UqhlrIJLy8YOc7Ege3xaQa58aeGeq/QAdctkziEtGlUZEM6IuLJ+mLjxJvLC+OtJk9gDC11FXGeUXLEVp3rQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="module" src="assets/js/app.js"></script>
    <script type="module" src="assets/js/firebase-init.js"></script>
<script type="module" src="assets/js/auth.js"></script>

  </body>
</html>
